---
import { getCollection } from "astro:content";
import ProjectCard from "@/components/ProjectCard.astro";

const all = await getCollection("blog", ({ data }) => !data.draft);
const featured = all.filter((p) => p.data?.featured === true);
---

<section class="featured">
  <h2 class="title">Featured Projects</h2>
  <p class="subtitle">A few selected projects and posts worth reading.</p>

  <section class="grid">
    {featured.map((post) => (
      <ProjectCard post={post} />
    ))}
  </section>
</section>

<style>
  .featured { margin-top: 48px; }
  .title { font-size: 36px; margin: 0 0 6px; }
  .subtitle { margin: 0 0 18px; opacity: 0.8; }

  .grid {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 32px;
  }

  @media (max-width: 768px) {
    .grid { grid-template-columns: 1fr; }
  }
</style>
